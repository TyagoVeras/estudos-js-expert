# EXAMPLE USAGE:
#
#   Refer for explanation to following link:
#   https://github.com/evilmartians/lefthook/blob/master/docs/configuration.md
#
pre-push:
  parallel: false
  commands:
    check-branch:
      run: |
        current_branch=$(git rev-parse --abbrev-ref HEAD)
        SWHITELIST_BRANCHES=("release" "master" "main")
        if [[ " ${SWHITELIST_BRANCHES[@]} " =~ " ${current_branch} " ]]; then
          exit 1
        fi

    update-develop:
      run: |
        git checkout develop || exit 1
        git pull origin develop || exit 1

    merge-develop:
      run: |
        git checkout $current_branch || exit 1
        git merge --no-ff --no-edit develop || exit 1


pre-commit:
  parallel: true
  commands:
    tsc:
      tags: ci
      run: echo "tsc"